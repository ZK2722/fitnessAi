import{j as L,h as d,c as A,o as g,p as P,b as z,w as $,k as Q,d as x,s as W,f as o,n as y,e as ve,t as K,J as X,$ as Y,ad as ee,r as N,x as he,A as Ce,C as T,L as M,W as be,F as Te,l as Se,q as we,i as F,Q as se,O as D,aa as Ee,a9 as j}from"./index-CLDwlYaq.js";import{g as te,r as k,_ as ne,n as Be,i as S,ap as q,y as Ne,aa as Me,L as oe,Q as $e,aw as ke,$ as G,aM as Le,A as _e,d as J,a1 as Ie,aN as Oe,J as Ae,K as Pe,ay as xe,e as O,aO as De}from"./el-menu-item-Dlu7__-N.js";const ze=te({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:k([String,Object,Array])},offset:{type:k(Array),default:[0,0]},badgeClass:{type:String}}),Fe=L({name:"ElBadge"}),He=L({...Fe,props:ze,setup(s,{expose:a}){const e=s,t=Be("badge"),i=d(()=>e.isDot?"":S(e.value)&&S(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`),r=d(()=>{var n,p,v,C,m;return[{backgroundColor:e.color,marginRight:q(-((p=(n=e.offset)==null?void 0:n[0])!=null?p:0)),marginTop:q((C=(v=e.offset)==null?void 0:v[1])!=null?C:0)},(m=e.badgeStyle)!=null?m:{}]});return a({content:i}),(n,p)=>(g(),A("div",{class:y(o(t).b())},[P(n.$slots,"default"),z(Y,{name:`${o(t).namespace.value}-zoom-in-center`,persisted:""},{default:$(()=>[Q(x("sup",{class:y([o(t).e("content"),o(t).em("content",n.type),o(t).is("fixed",!!n.$slots.default),o(t).is("dot",n.isDot),o(t).is("hide-zero",!n.showZero&&e.value===0),n.badgeClass]),style:W(o(r))},[P(n.$slots,"content",{value:o(i)},()=>[ve(K(o(i)),1)])],6),[[X,!n.hidden&&(o(i)||n.isDot||n.$slots.content)]])]),_:3},8,["name"])],2))}});var Re=ne(He,[["__file","badge.vue"]]);const Ue=Ne(Re),u={placement:"top"},ae=["primary","success","info","warning","error"],le=["top","top-left","top-right","bottom","bottom-left","bottom-right"],w="top",c=Me({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:oe?document.body:void 0}),Ve=te({customClass:{type:String,default:c.customClass},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:$e,default:c.icon},id:{type:String,default:c.id},message:{type:k([String,Object,Function]),default:c.message},onClose:{type:k(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:ae,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},placement:{type:String,values:le,default:c.placement},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),Ze={destroy:()=>!0},f=ee({}),je=s=>(f[s]||(f[s]=ee([])),f[s]),qe=(s,a)=>{const e=f[a]||[],t=e.findIndex(n=>n.id===s),i=e[t];let r;return t>0&&(r=e[t-1]),{current:i,prev:r}},Ge=(s,a)=>{const{prev:e}=qe(s,a);return e?e.vm.exposed.bottom.value:0},Je=(s,a,e)=>(f[e]||[]).findIndex(r=>r.id===s)>0?16:a,Qe=L({name:"ElMessage"}),We=L({...Qe,props:Ve,emits:Ze,setup(s,{expose:a,emit:e}){const t=s,{Close:i}=Ie,r=N(!1),{ns:n,zIndex:p}=ke("message"),{currentZIndex:v,nextZIndex:C}=p,m=N(),E=N(!1),H=N(0);let _;const ie=d(()=>t.type?t.type==="error"?"danger":t.type:"info"),ce=d(()=>{const l=t.type;return{[n.bm("icon",l)]:l&&G[l]}}),R=d(()=>t.icon||G[t.type]||""),b=d(()=>t.placement||w),ue=d(()=>Ge(t.id,b.value)),U=d(()=>Je(t.id,t.offset,b.value)+ue.value),pe=d(()=>H.value+U.value),de=d(()=>b.value.includes("left")?n.is("left"):b.value.includes("right")?n.is("right"):n.is("center")),V=d(()=>b.value.startsWith("top")?"top":"bottom"),fe=d(()=>({[V.value]:`${U.value}px`,zIndex:v.value}));function I(){t.duration!==0&&({stop:_}=Oe(()=>{B()},t.duration))}function Z(){_?.()}function B(){E.value=!1,we(()=>{var l;r.value||((l=t.onClose)==null||l.call(t),e("destroy"))})}function me(l){Ae(l)===Pe.esc&&B()}return he(()=>{I(),C(),E.value=!0}),Ce(()=>t.repeatNum,()=>{Z(),I()}),Le(document,"keydown",me),_e(m,()=>{H.value=m.value.getBoundingClientRect().height}),a({visible:E,bottom:pe,close:B}),(l,ge)=>(g(),T(Y,{name:o(n).b("fade"),onBeforeEnter:ye=>r.value=!0,onBeforeLeave:l.onClose,onAfterLeave:ye=>l.$emit("destroy"),persisted:""},{default:$(()=>[Q(x("div",{id:l.id,ref_key:"messageRef",ref:m,class:y([o(n).b(),{[o(n).m(l.type)]:l.type},o(n).is("closable",l.showClose),o(n).is("plain",l.plain),o(n).is("bottom",o(V)==="bottom"),o(de),l.customClass]),style:W(o(fe)),role:"alert",onMouseenter:Z,onMouseleave:I},[l.repeatNum>1?(g(),T(o(Ue),{key:0,value:l.repeatNum,type:o(ie),class:y(o(n).e("badge"))},null,8,["value","type","class"])):M("v-if",!0),o(R)?(g(),T(o(J),{key:1,class:y([o(n).e("icon"),o(ce)])},{default:$(()=>[(g(),T(be(o(R))))]),_:1},8,["class"])):M("v-if",!0),P(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(g(),A(Te,{key:1},[M(" Caution here, message could've been compromised, never use user's input as message "),x("p",{class:y(o(n).e("content")),innerHTML:l.message},null,10,["innerHTML"])],2112)):(g(),A("p",{key:0,class:y(o(n).e("content"))},K(l.message),3))]),l.showClose?(g(),T(o(J),{key:2,class:y(o(n).e("closeBtn")),onClick:Se(B,["stop"])},{default:$(()=>[z(o(i))]),_:1},8,["class","onClick"])):M("v-if",!0)],46,["id"]),[[X,E.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var Ke=ne(We,[["__file","message.vue"]]);let Xe=1;const Ye=s=>{if(!s.appendTo)s.appendTo=document.body;else if(F(s.appendTo)){let e=document.querySelector(s.appendTo);xe(e)||(e=document.body),s.appendTo=e}},es=s=>{!s.placement&&F(u.placement)&&u.placement&&(s.placement=u.placement),s.placement||(s.placement=w),le.includes(s.placement)||(s.placement=w)},re=s=>{const a=!s||F(s)||se(s)||D(s)?{message:s}:s,e={...c,...a};return Ye(e),es(e),O(u.grouping)&&!e.grouping&&(e.grouping=u.grouping),S(u.duration)&&e.duration===3e3&&(e.duration=u.duration),S(u.offset)&&e.offset===16&&(e.offset=u.offset),O(u.showClose)&&!e.showClose&&(e.showClose=u.showClose),O(u.plain)&&!e.plain&&(e.plain=u.plain),e},ss=s=>{const a=s.props.placement||w,e=f[a],t=e.indexOf(s);if(t===-1)return;e.splice(t,1);const{handler:i}=s;i.close()},ts=({appendTo:s,...a},e)=>{const t=`message_${Xe++}`,i=a.onClose,r=document.createElement("div"),n={...a,id:t,onClose:()=>{i?.(),ss(m)},onDestroy:()=>{j(null,r)}},p=z(Ke,n,D(n.message)||se(n.message)?{default:D(n.message)?n.message:()=>n.message}:null);p.appContext=e||h._context,j(p,r),s.appendChild(r.firstElementChild);const v=p.component,m={id:t,vnode:p,vm:v,handler:{close:()=>{v.exposed.close()}},props:p.component.props};return m},h=(s={},a)=>{if(!oe)return{close:()=>{}};const e=re(s),t=je(e.placement||w);if(e.grouping&&t.length){const r=t.find(({vnode:n})=>{var p;return((p=n.props)==null?void 0:p.message)===e.message});if(r)return r.props.repeatNum+=1,r.props.type=e.type,r.handler}if(S(u.max)&&t.length>=u.max)return{close:()=>{}};const i=ts(e,a);return t.push(i),i.handler};ae.forEach(s=>{h[s]=(a={},e)=>{const t=re(a);return h({...t,type:s},e)}});function ns(s){for(const a in f)if(Ee(f,a)){const e=[...f[a]];for(const t of e)(!s||s===t.props.type)&&t.handler.close()}}function os(s){if(!f[s])return;[...f[s]].forEach(e=>e.handler.close())}h.closeAll=ns;h.closeAllByPlacement=os;h._context=null;const rs=De(h,"$message");export{rs as E};
