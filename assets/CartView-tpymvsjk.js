import{E as A,b as B,c as O,a as z}from"./el-menu-item-Dlu7__-N.js";import{E as L,a as P}from"./el-table-column-DD64hs0T.js";import"./el-input-veG36ZTd.js";import{E as D}from"./el-input-number-BgvBZ84-.js";import{E as G}from"./el-empty-QQ1b0gey.js";import{E as H}from"./el-header-Be0t1rhF.js";import{_ as J,r as h,h as y,x as Q,c as _,b as e,d as o,w as a,u as R,o as f,e as l,t as m}from"./index-CLDwlYaq.js";import{E as b}from"./index-DuCaHMRj.js";import"./raf-Dy_Y5dRv.js";import"./_baseIteratee-C7YljNA0.js";import"./index-D8atevoS.js";import"./index-DEBwuNq7.js";const U={class:"cart-view"},Y={class:"header-content"},j={class:"logo-section"},K={class:"nav-menu"},W={class:"auth-buttons"},X={class:"content-wrapper"},Z={class:"card-header"},tt={key:0,class:"empty-cart"},et={key:1},at={class:"product-info"},ot=["src","alt"],st={class:"cart-summary"},nt={class:"summary-item"},lt={class:"summary-item"},it={class:"total-price"},rt={__name:"CartView",setup(ut){const r=R(),g=h("3"),i=h([]),w=y(()=>i.value.reduce((s,t)=>s+t.quantity,0)),x=y(()=>i.value.reduce((s,t)=>s+t.price*t.quantity,0)),C=()=>{const s=localStorage.getItem("shoppingCart");s&&(i.value=JSON.parse(s))},v=()=>{localStorage.setItem("shoppingCart",JSON.stringify(i.value))},E=s=>{s.quantity<1&&(s.quantity=1),v(),b.success("商品数量已更新")},k=s=>{const t=i.value.findIndex(u=>u.id===s.id);t!==-1&&(i.value.splice(t,1),v(),b.success("商品已从购物车移除"))},S=()=>{i.value.length>0&&r.push({name:"checkout"})},I=()=>{r.push({name:"shop"})},q=s=>{switch(s){case"1":r.push({name:"home"});break;case"2":r.push({name:"fitness-assessment"});break;case"3":r.push({name:"shop"});break;case"4":r.push({name:"gyms"});break}};return Q(()=>{C()}),(s,t)=>{const u=O,V=B,d=z,T=H,F=G,c=P,N=D,M=L,$=A;return f(),_("div",U,[e(T,{class:"header"},{default:a(()=>[o("div",Y,[o("div",j,[o("nav",K,[e(V,{"default-active":g.value,mode:"horizontal","background-color":"#1A1A2E","text-color":"#f0f0f0","active-text-color":"#00C853",ellipsis:!1,onSelect:q},{default:a(()=>[e(u,{index:"1"},{default:a(()=>[...t[0]||(t[0]=[l("Home",-1)])]),_:1}),e(u,{index:"2"},{default:a(()=>[...t[1]||(t[1]=[l("Fitness Assessment",-1)])]),_:1}),e(u,{index:"3"},{default:a(()=>[...t[2]||(t[2]=[l("Online Store",-1)])]),_:1}),e(u,{index:"4"},{default:a(()=>[...t[3]||(t[3]=[l("Gym Offers",-1)])]),_:1})]),_:1},8,["default-active"])])]),o("div",W,[e(d,{class:"login-btn",plain:""},{default:a(()=>[...t[4]||(t[4]=[l("Login",-1)])]),_:1}),e(d,{class:"signup-btn",type:"primary"},{default:a(()=>[...t[5]||(t[5]=[l("Free Trial",-1)])]),_:1})])])]),_:1}),o("div",X,[e($,null,{header:a(()=>[o("div",Z,[t[7]||(t[7]=o("span",null,"Shopping Cart",-1)),e(d,{type:"primary",onClick:S,disabled:i.value.length===0,class:"checkout-btn"},{default:a(()=>[...t[6]||(t[6]=[l("Checkout",-1)])]),_:1},8,["disabled"])])]),default:a(()=>[i.value.length===0?(f(),_("div",tt,[e(F,{description:"Your cart is empty"},{default:a(()=>[e(d,{type:"primary",onClick:I},{default:a(()=>[...t[8]||(t[8]=[l("Go Shopping",-1)])]),_:1})]),_:1})])):(f(),_("div",et,[e(M,{data:i.value,style:{width:"100%"},class:"cart-table"},{default:a(()=>[e(c,{prop:"name",label:"Product Name",width:"200"},{default:a(n=>[o("div",at,[o("img",{src:n.row.image,alt:n.row.name,class:"product-image"},null,8,ot),o("span",null,m(n.row.name),1)])]),_:1}),e(c,{prop:"price",label:"Price",width:"120"},{default:a(n=>[l(" $"+m(n.row.price.toFixed(2)),1)]),_:1}),e(c,{prop:"quantity",label:"Quantity",width:"150"},{default:a(n=>[e(N,{modelValue:n.row.quantity,"onUpdate:modelValue":p=>n.row.quantity=p,min:1,max:99,onChange:p=>E(n.row),size:"small",class:"quantity-input"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(c,{prop:"total",label:"Subtotal",width:"120"},{default:a(n=>[l(" $"+m((n.row.price*n.row.quantity).toFixed(2)),1)]),_:1}),e(c,{label:"Action",width:"100"},{default:a(n=>[e(d,{type:"danger",size:"small",onClick:p=>k(n.row)},{default:a(()=>[...t[9]||(t[9]=[l("Remove",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),o("div",st,[o("div",nt,[t[10]||(t[10]=o("span",null,"Total Items:",-1)),o("span",null,m(w.value),1)]),o("div",lt,[t[11]||(t[11]=o("span",null,"Total:",-1)),o("span",it,"$"+m(x.value.toFixed(2)),1)])])]))]),_:1})])])}}},xt=J(rt,[["__scopeId","data-v-bb505c8f"]]);export{xt as default};
