import{a2 as ae,a3 as Ve,a4 as ye,a5 as Ie,a6 as Ke,a7 as De,a8 as We,X as Ue,a9 as He,g as q,aa as se,r as Y,_ as _e,D as ue,n as J,A as le,H as oe,ab as Ge,ac as Ye,ad as me,d as H,ae as Xe,af as qe,J as ie,K as z,ag as Je,i as Qe,ah as Ze,U as Ce,ai as pe,y as je,z as et}from"./el-menu-item-Dlu7__-N.js";import{i as tt,c as at,r as nt}from"./raf-Dy_Y5dRv.js";import{c as F}from"./strings-6WfDgwh6.js";import{E as re,j as I,a0 as st,a1 as G,x as Ne,Q as lt,g as de,r as N,A as D,K as Ee,c as Te,o as Se,s as ot,n as Pe,f as B,q as X,h as x,a2 as it,b as y,i as rt,p as ce,I as Re,y as ct,Y as ut,a as dt,a3 as ft,k as vt,L as bt,J as ht}from"./index-CLDwlYaq.js";import{g as mt,b as pt}from"./el-col-BngkgHRZ.js";function gt(e,t,a){var u=-1,n=e.length;t<0&&(t=-t>n?0:n+t),a=a>n?n:a,a<0&&(a+=n),n=t>a?0:a-t>>>0,t>>>=0;for(var s=Array(n);++u<n;)s[u]=e[u+t];return s}function yt(e,t,a){return e===e&&(a!==void 0&&(e=e<=a?e:a),t!==void 0&&(e=e>=t?e:t)),e}function _t(e,t,a){return a===void 0&&(a=t,t=void 0),a!==void 0&&(a=ae(a),a=a===a?a:0),t!==void 0&&(t=ae(t),t=t===t?t:0),yt(ae(e),t,a)}function Ct(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Nt(e,t){return t.length<2?e:Ve(e,gt(t,0,-1))}function Et(e,t){return t=ye(t,e),e=Nt(e,t),e==null||delete e[Ie(Ct(t))]}function Tt(e){return tt(e)?void 0:e}var St=1,Pt=2,Rt=4,Ot=Ke(function(e,t){var a={};if(e==null)return a;var u=!1;t=De(t,function(s){return s=ye(s,e),u||(u=s.length>1),s}),We(e,mt(e),a),u&&(a=pt(a,St|Pt|Rt,Tt));for(var n=t.length;n--;)Et(a,t[n]);return a});const xt=(e,t,a)=>Ue(e.subTree).filter(s=>{var _;return lt(s)&&((_=s.type)==null?void 0:_.name)===t&&!!s.component}).map(s=>s.component.uid).map(s=>a[s]).filter(s=>!!s),wt=(e,t)=>{const a=re({}),u=re([]),n=new WeakMap,s=g=>{a.value[g.uid]=g,G(a),Ne(()=>{const v=g.getVnode().el,l=v.parentNode;if(!n.has(l)){n.set(l,[]);const d=l.insertBefore.bind(l);l.insertBefore=(C,i)=>(n.get(l).some(E=>C===E||i===E)&&G(a),d(C,i))}n.get(l).push(v)})},_=g=>{delete a.value[g.uid],G(a);const v=g.getVnode().el,l=v.parentNode,d=n.get(l),C=d.indexOf(v);d.splice(C,1)},m=()=>{u.value=xt(e,t,a.value)},f=g=>g.render(),b=I({setup(g,{slots:v}){return()=>(m(),v.default?st(f,{render:v.default}):null)}});return{children:u,addChild:s,removeChild:_,ChildrenSorter:b}},$t="horizontal",Bt="vertical",At={[$t]:"deltaX",[Bt]:"deltaY"},kt=({atEndEdge:e,atStartEdge:t,layout:a},u)=>{let n,s=0;const _=f=>f<0&&t.value||f>0&&e.value;return{hasReachedEdge:_,onWheel:f=>{at(n);const b=f[At[a.value]];_(s)&&_(s+b)||(s+=b,He()||f.preventDefault(),n=nt(()=>{u(s),s=0}))}}},Q=Symbol("tabsRootContextKey"),zt=q({tabs:{type:Y(Array),default:()=>se([])},tabRefs:{type:Y(Object),default:()=>se({})}}),Oe="ElTabBar",Ft=I({name:Oe}),Lt=I({...Ft,props:zt,setup(e,{expose:t}){const a=e,u=de(Q);u||ue(Oe,"<el-tabs><el-tab-bar /></el-tabs>");const n=J("tabs"),s=N(),_=N(),m=()=>{let l=0,d=0;const C=["top","bottom"].includes(u.props.tabPosition)?"width":"height",i=C==="width"?"x":"y",$=i==="x"?"left":"top";return a.tabs.every(E=>{if(oe(E.paneName))return!1;const T=a.tabRefs[E.paneName];if(!T)return!1;if(!E.active)return!0;l=T[`offset${F($)}`],d=T[`client${F(C)}`];const o=window.getComputedStyle(T);return C==="width"&&(d-=Number.parseFloat(o.paddingLeft)+Number.parseFloat(o.paddingRight),l+=Number.parseFloat(o.paddingLeft)),!1}),{[C]:`${d}px`,transform:`translate${F(i)}(${l}px)`}},f=()=>_.value=m(),b=[],g=()=>{b.forEach(l=>l.stop()),b.length=0,Object.values(a.tabRefs).forEach(l=>{b.push(le(l,f))})};D(()=>a.tabs,async()=>{await X(),f(),g()},{immediate:!0});const v=le(s,()=>f());return Ee(()=>{b.forEach(l=>l.stop()),b.length=0,v.stop()}),t({ref:s,update:f}),(l,d)=>(Se(),Te("div",{ref_key:"barRef",ref:s,class:Pe([B(n).e("active-bar"),B(n).is(B(u).props.tabPosition)]),style:ot(_.value)},null,6))}});var Mt=_e(Lt,[["__file","tab-bar.vue"]]);const Vt=q({panes:{type:Y(Array),default:()=>se([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),It={tabClick:(e,t,a)=>a instanceof Event,tabRemove:(e,t)=>t instanceof Event},ge="ElTabNav",Kt=I({name:ge,props:Vt,emits:It,setup(e,{expose:t,emit:a}){const u=de(Q);u||ue(ge,"<el-tabs><tab-nav /></el-tabs>");const n=J("tabs"),s=Ge(),_=Ye(),m=N(),f=N(),b=N(),g=N({}),v=N(),l=N(!1),d=N(0),C=N(!1),i=N(!0),$=re(),E=x(()=>["top","bottom"].includes(u.props.tabPosition)),T=x(()=>E.value?"width":"height"),o=x(()=>({transform:`translate${T.value==="width"?"X":"Y"}(-${d.value}px)`})),{width:S,height:R}=me(m),{width:L,height:K}=me(f,{width:0,height:0},{box:"border-box"}),W=x(()=>E.value?S.value:R.value),M=x(()=>E.value?L.value:K.value),{onWheel:V}=kt({atStartEdge:x(()=>d.value<=0),atEndEdge:x(()=>M.value-d.value<=W.value),layout:x(()=>E.value?"horizontal":"vertical")},r=>{d.value=_t(d.value+r,0,M.value-W.value)}),Z=()=>{if(!m.value)return;const r=m.value[`offset${F(T.value)}`],p=d.value;if(!p)return;const c=p>r?p-r:0;d.value=c},$e=()=>{if(!m.value||!f.value)return;const r=f.value[`offset${F(T.value)}`],p=m.value[`offset${F(T.value)}`],c=d.value;if(r-c<=p)return;const h=r-c>p*2?c+p:r-p;d.value=h},fe=async()=>{const r=f.value;if(!l.value||!b.value||!m.value||!r)return;await X();const p=g.value[e.currentName];if(!p)return;const c=m.value,h=p.getBoundingClientRect(),P=c.getBoundingClientRect(),O=E.value?r.offsetWidth-P.width:r.offsetHeight-P.height,A=d.value;let w=A;E.value?(h.left<P.left&&(w=A-(P.left-h.left)),h.right>P.right&&(w=A+h.right-P.right)):(h.top<P.top&&(w=A-(P.top-h.top)),h.bottom>P.bottom&&(w=A+(h.bottom-P.bottom))),w=Math.max(w,0),d.value=Math.min(w,O)},ve=()=>{var r;if(!f.value||!m.value)return;e.stretch&&((r=v.value)==null||r.update());const p=f.value[`offset${F(T.value)}`],c=m.value[`offset${F(T.value)}`],h=d.value;c<p?(l.value=l.value||{},l.value.prev=h,l.value.next=h+c<p,p-h<c&&(d.value=p-c)):(l.value=!1,h>0&&(d.value=0))},Be=r=>{const p=ie(r);let c=0;switch(p){case z.left:case z.up:c=-1;break;case z.right:case z.down:c=1;break;default:return}const h=Array.from(r.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let O=h.indexOf(r.target)+c;O<0?O=h.length-1:O>=h.length&&(O=0),h[O].focus({preventScroll:!0}),h[O].click(),be()},be=()=>{i.value&&(C.value=!0)},j=()=>C.value=!1,Ae=(r,p)=>{g.value[p]=r},ke=async()=>{await X();const r=g.value[e.currentName];r?.focus({preventScroll:!0})};return D(s,r=>{r==="hidden"?i.value=!1:r==="visible"&&setTimeout(()=>i.value=!0,50)}),D(_,r=>{r?setTimeout(()=>i.value=!0,50):i.value=!1}),le(b,ve),Ne(()=>setTimeout(()=>fe(),0)),it(()=>ve()),t({scrollToActiveTab:fe,removeFocus:j,focusActiveTab:ke,tabListRef:f,tabBarRef:v,scheduleRender:()=>G($)}),()=>{const r=l.value?[y("span",{class:[n.e("nav-prev"),n.is("disabled",!l.value.prev)],onClick:Z},[y(H,null,{default:()=>[y(Xe,null,null)]})]),y("span",{class:[n.e("nav-next"),n.is("disabled",!l.value.next)],onClick:$e},[y(H,null,{default:()=>[y(qe,null,null)]})])]:null,p=e.panes.map((c,h)=>{var P,O,A,w;const ze=c.uid,ee=c.props.disabled,U=(O=(P=c.props.name)!=null?P:c.index)!=null?O:`${h}`,te=!ee&&(c.isClosable||c.props.closable!==!1&&e.editable);c.index=`${h}`;const Fe=te?y(H,{class:"is-icon-close",onClick:k=>a("tabRemove",c,k)},{default:()=>[y(Je,null,null)]}):null,Le=((w=(A=c.slots).label)==null?void 0:w.call(A))||c.props.label,Me=!ee&&c.active?0:-1;return y("div",{ref:k=>Ae(k,U),class:[n.e("item"),n.is(u.props.tabPosition),n.is("active",c.active),n.is("disabled",ee),n.is("closable",te),n.is("focus",C.value)],id:`tab-${U}`,key:`tab-${ze}`,"aria-controls":`pane-${U}`,role:"tab","aria-selected":c.active,tabindex:Me,onFocus:()=>be(),onBlur:()=>j(),onClick:k=>{j(),a("tabClick",c,U,k)},onKeydown:k=>{const he=ie(k);te&&(he===z.delete||he===z.backspace)&&a("tabRemove",c,k)}},[Le,Fe])});return $.value,y("div",{ref:b,class:[n.e("nav-wrap"),n.is("scrollable",!!l.value),n.is(u.props.tabPosition)]},[r,y("div",{class:n.e("nav-scroll"),ref:m},[e.panes.length>0?y("div",{class:[n.e("nav"),n.is(u.props.tabPosition),n.is("stretch",e.stretch&&["top","bottom"].includes(u.props.tabPosition))],ref:f,style:o.value,role:"tablist",onKeydown:Be,onWheel:V},[e.type?null:y(Mt,{ref:v,tabs:[...e.panes],tabRefs:g.value},null),p]):null])])}}}),Dt=q({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Y(Function),default:()=>!0},stretch:Boolean}),ne=e=>rt(e)||Qe(e),Wt={[Ce]:e=>ne(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>ne(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>ne(e),tabAdd:()=>!0},Ut=I({name:"ElTabs",props:Dt,emits:Wt,setup(e,{emit:t,slots:a,expose:u}){var n;const s=J("tabs"),_=x(()=>["left","right"].includes(e.tabPosition)),{children:m,addChild:f,removeChild:b,ChildrenSorter:g}=wt(Re(),"ElTabPane"),v=N(),l=N((n=e.modelValue)!=null?n:"0"),d=async(o,S=!1)=>{var R,L,K,W;if(!(l.value===o||oe(o)))try{let M;if(e.beforeLeave){const V=e.beforeLeave(o,l.value);M=V instanceof Promise?await V:V}else M=!0;if(M!==!1){const V=(R=m.value.find(Z=>Z.paneName===l.value))==null?void 0:R.isFocusInsidePane();l.value=o,S&&(t(Ce,o),t("tabChange",o)),(K=(L=v.value)==null?void 0:L.removeFocus)==null||K.call(L),V&&((W=v.value)==null||W.focusActiveTab())}}catch{}},C=(o,S,R)=>{o.props.disabled||(t("tabClick",o,R),d(S,!0))},i=(o,S)=>{o.props.disabled||oe(o.props.name)||(S.stopPropagation(),t("edit",o.props.name,"remove"),t("tabRemove",o.props.name))},$=()=>{t("edit",void 0,"add"),t("tabAdd")},E=o=>{const S=ie(o);[z.enter,z.numpadEnter].includes(S)&&$()},T=o=>{const S=o.el.firstChild,R=["bottom","right"].includes(e.tabPosition)?o.children[0].el:o.children[1].el;S!==R&&S.before(R)};return D(()=>e.modelValue,o=>d(o)),D(l,async()=>{var o;await X(),(o=v.value)==null||o.scrollToActiveTab()}),ct(Q,{props:e,currentName:l,registerPane:f,unregisterPane:b,nav$:v}),u({currentName:l,get tabNavRef(){return Ot(v.value,["scheduleRender"])}}),()=>{const o=a["add-icon"],S=e.editable||e.addable?y("div",{class:[s.e("new-tab"),_.value&&s.e("new-tab-vertical")],tabindex:"0",onClick:$,onKeydown:E},[o?ce(a,"add-icon"):y(H,{class:s.is("icon-plus")},{default:()=>[y(Ze,null,null)]})]):null,R=()=>y(Kt,{ref:v,currentName:l.value,editable:e.editable,type:e.type,panes:m.value,stretch:e.stretch,onTabClick:C,onTabRemove:i},null),L=y("div",{class:[s.e("header"),_.value&&s.e("header-vertical"),s.is(e.tabPosition)]},[y(g,null,{default:R,$stable:!0}),S]),K=y("div",{class:s.e("content")},[ce(a,"default")]);return y("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:e.type==="card",[s.m("border-card")]:e.type==="border-card"}],onVnodeMounted:T,onVnodeUpdated:T},[K,L])}}});var Ht=Ut;const Gt=q({label:{type:String,default:""},name:{type:[String,Number]},closable:{type:Boolean,default:void 0},disabled:Boolean,lazy:Boolean}),xe="ElTabPane",Yt=I({name:xe}),Xt=I({...Yt,props:Gt,setup(e){const t=e,a=Re(),u=ut(),n=de(Q);n||ue(xe,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const s=J("tab-pane"),_=N(),m=N(),f=x(()=>{var i;return(i=t.closable)!=null?i:n.props.closable}),b=pe(()=>{var i;return n.currentName.value===((i=t.name)!=null?i:m.value)}),g=N(b.value),v=x(()=>{var i;return(i=t.name)!=null?i:m.value}),l=pe(()=>!t.lazy||g.value||b.value),d=()=>{var i;return(i=_.value)==null?void 0:i.contains(document.activeElement)};D(b,i=>{i&&(g.value=!0)});const C=dt({uid:a.uid,getVnode:()=>a.vnode,slots:u,props:t,paneName:v,active:b,index:m,isClosable:f,isFocusInsidePane:d});return n.registerPane(C),Ee(()=>{n.unregisterPane(C)}),ft(()=>{var i;u.label&&((i=n.nav$.value)==null||i.scheduleRender())}),(i,$)=>B(l)?vt((Se(),Te("div",{key:0,id:`pane-${B(v)}`,ref_key:"paneRef",ref:_,class:Pe(B(s).b()),role:"tabpanel","aria-hidden":!B(b),"aria-labelledby":`tab-${B(v)}`},[ce(i.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[ht,B(b)]]):bt("v-if",!0)}});var we=_e(Xt,[["__file","tab-pane.vue"]]);const ea=je(Ht,{TabPane:we}),ta=et(we);export{ea as E,ta as a};
